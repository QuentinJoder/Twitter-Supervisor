{% extends "navbar.html" %}
{% block under_navbar %}
<nav aria-label="Followers page navigation">
    <ul class="pagination">
        <li class="page-item {{'disabled' if not pagination.has_prev}}">
            <a class="page-link" href="{{ url_for('pages.followers' if followers else 'pages.unfollowers', page=pagination.prev_num) }}">
                Previous
            </a>
        </li>
        {% for page in pagination.iter_pages() %}
        {% if page %}
        <li class="page-item {{'active' if pagination.page == page}}">
            <a class="page-link" href="{{ url_for('pages.followers' if followers else 'pages.unfollowers', page=page)}}">
                {{page}}
            </a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" href="">...</a>
        </li>
        {% endif %}
        {% endfor %}
        <li class="page-item {{'disabled' if not pagination.has_next}}">
            <a class="page-link" href="{{ url_for('pages.followers' if followers else 'pages.unfollowers', page=pagination.next_num) }}">
                Next
            </a>
        </li>
  </ul>
</nav>

<div class="accordion" id="followers-accordion">
    {% for follower in pagination.items %}
    <div class="accordion-item">

        <h2 class="accordion-header" id="heading-{{follower.id_str}}">
            <button class="accordion-button collapsed"  type="button"
                  data-bs-toggle="collapse" data-bs-target="#collapse-{{follower.id_str}}"
                  aria-expanded="false" aria-controls="collapse-{{follower.id_str}}">
                {{ follower.name }}
            </button>
        </h2>

        <div id="collapse-{{follower.id_str}}" class="accordion-collapse collapse"
             aria-labelledby="heading-{{follower.id_str}}" data-bs-parent="#followers-accordion">
            <div class="accordion-body">
                <p>ID: {{ follower.id_str }}</p>
                <p>Screen name: @{{ follower.screen_name }}</p>
                <table class="table">
                    <thead>
                        <tr>
                          <th scope="col">Date</th>
                          <th scope="col">Event</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-{{follower.id_str}}">
                    </tbody>
                </table>
          </div>
        </div>

    </div>
    {% endfor %}
</div>
{% endblock %}
